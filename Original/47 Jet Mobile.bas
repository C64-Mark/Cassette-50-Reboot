!--------------------------------------------------
!- 28 October 2019 21:23:12
!- Import of : JETM.PRG
!- From Disk : c:\users\marka\games\c64\cbmprg\cassette50reboot\jetmobile.d64
!- Commodore 64
!--------------------------------------------------
5 S1=54273:POKE54296,15:POKE52,28:POKE56,28:CLR:POKE53280,6:PRINTCHR$(147)CHR$(144)TAB(12)"jetmobile":GOSUB10000:PRINTTAB(48)"instructions y/n ?
30 GETA$:IFA$<>"y"ANDA$<>"n"THEN30
40 IFA$="y"THEN600
50 PRINTTAB(7)"{down}please wait
60 GOSUB59000
70 PRINTTAB(7)"{down*2}hit any key
80 GETA$:IFA$=""THEN80
85 PRINTCHR$(147)TAB(45)"{down*3} level of difficulty 1-5?
86 GETA$:DD=VAL(A$):IFDD<1ORDD>5THEN86
98 DD=DD+4:PRINTCHR$(147):POKE53280,0:POKE53281,5:POKE53272,31:FORA=1114TO1135:POKEA,33:POKEA+800,33:POKEA+54272,2:POKEA+54272+800,2:NEXT:FORA=1114TO1874STEP40:POKEA,33:POKEA+21,33:POKEA+54272,2:POKEA+54293,2:NEXT:TI$="000000":FORA=0TODD:A(A)=1516+A:POKEA(A),34:POKE55788+A,7:NEXT:K=1282:POKEK,40:E=37
115 POKEA(DD),E:C=1
120 PRINTCHR$(19)"time ="RIGHT$(TI$,3)" score ="S:B=A(0):P=PEEK(197):PB=NOTPEEK(56321)AND15:IFP=12ORPB=4THENC=-1:E=38
140 IFP=23ORPB=8THENC=1:E=37
150 IFP=34ORPB=1THENC=-40:E=36
160 IFP=39ORPB=2THENC=40:E=35
170 FORA=0TODD-1:A(A)=A(A+1):NEXT:A(DD)=A(DD)+C:F=PEEK(A(DD)):IFF=33THENG=1:GOTO400
176 IFF=34THENG=2:GOTO400
177 IFF=39THENL=2:SS=SS+1
178 IFF=40THENG=4:GOTO400
180 POKEB,32:POKEA(DD-1),34:POKEA(DD)+30720,7:POKEA(DD),E:IFL=2THENPOKE54273,0:FORV=15TO9STEP-1:POKE54273,128+V:POKE54296,V
182 IFL=2THENFORT=1TO9:POKE54272,V:NEXTT,V
183 IFL=2THENPOKE54273,0:POKE54296,15:L=0
200 IFTI$>"000200"THENG=3:GOTO400
210 IFL=0THENJ=INT(RND(1)*18)*40+160+INT((20)*RND(1)+11)+1024
211 IFL=0ANDPEEK(J)<>32THEN210
212 IFL=0THENPOKEJ,39:POKE54273+J,6:L=1
220 R=K:N=K-J:Q=INT(RND(1)*3)-1:IFN>39THENK=K-(Q+40)
230 IFN<-39THENK=K+Q+40
240 IFN>0ANDN<40THENK=K-INT(RND(1)*2)
241 IFN<0ANDN>-40THENK=K+INT(RND(1)*2)
245 PA=PEEK(K):IFPA=33THENK=R
246 IFPA=39THENL=2
247 IFPA=35ORPA=36ORPA=37ORPA=38ORPA=34THENG=4
250 POKER,32:POKE54272+K,0:POKEK,40:POKE54273,0:IFG=4THEN400
300 Y=VAL(TI$):S=INT(SS*(Y/10)):GOTO120
400 POKE54273,0:POKEB,42:FORD=0TODD:POKEA(D),42:NEXT:FORH=255TO127STEP-8:POKE54273,H:FORT=1TO50:NEXTT,H:PRINTCHR$(147)CHR$(156):GOSUB10000:POKE53280,8:POKE53281,1:POKE53272,21:IFG=1THENPRINT" you have been squashed against{space*10}the perimiter
430 IFG=2THENPRINT" you have eaten yourself
440 IFG=3THENPRINT" you have ran out of time
450 IFG=4THENPRINT" you have been eaten by the bird
460 PRINT" your score was"S:POKE198,0:IFS<=HSTHEN495
465 HS=S:PRINT" enter two initials
470 GETB$:IFB$=""THEN470
475 GETC$:IFC$=""THEN475
495 PRINTTAB(82)B$C$" has the high score":PRINT" another go(y/n)?
500 GETA$:IFA$<>"y"ANDA$<>"n"THEN500
510 IFA$="y"THENS=0:G=0:L=0:J=0:SS=0:POKE53280,6:POKE646,0:GOTO85
520 CLR:POKE53280,8:PRINTCHR$(147):GOSUB10000:END
600 PRINT"{clear}{down}you are a jet-powered caterpillar & have":PRINT" to eat{space*2}as many lettice leaves as":PRINT"{down}possible in 2 minutes.you must not bite{down} yourself or run into";:PRINT" the side of the box{down}which also contains a hungry blackbird
625 PRINT"{down}extra points are given for the length of{down}time you last.":PRINT"{down}use the joystick or:z-left x-right{space*5}{down}{space*9}port1{space*7}n-down";:PRINT" j-up":GOTO60
900 DATA231,231,231,0,0,231,231,231,126,255,255,255,255,255,255,126,126,255,129,165,129,126,36,24,24,36,126,129,165,129,255,126,120,196,214,197,197,214,196,120,30,35,107,163,163,107,35,30,60,126,255,127,254,255,24,24,4,10,31,28,60,124,248,16
10000 POKE54296,15:POKE54277,16:POKE54278,248:POKE54276,33:FORSD=1TO80:POKE54273,SD:POKE54272,SD:NEXT:POKE54273,0:POKE54272,21:RETURN
59000 POKE52,56:POKE56,56:CLR:POKE56334,PEEK(56334)AND254:CN=33:POKE1,PEEK(1)AND251:FORI=0TO511:POKEI+14336,PEEK(53248+I):NEXTI:POKE1,PEEK(1)OR4:POKE56334,PEEK(56334)OR1
59060 FORI=0TO7:READCD:IFCD<0THENI=7:GOTO59090
59064 POKE14336+8*CN+I,CD:NEXTI:CN=CN+1:GOTO59060
59080 DATA-1
59090 POKE53272,(PEEK(53272)AND240)OR14:GOTO70
