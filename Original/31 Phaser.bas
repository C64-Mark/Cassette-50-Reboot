!--------------------------------------------------
!- 28 October 2019 21:15:52
!- Import of : PHASE.PRG
!- From Disk : c:\users\marka\games\c64\cbmprg\cassette50reboot\phaser.d64
!- Commodore 64
!--------------------------------------------------
10 PRINT"{clear}phaser":POKE53280,0:POKE53281,0:RL=0:SC=0:HS=0:PRINT"{clear}{down*5}":PRINT"{purple}{space*15}p h a s e r ":PRINT"{white}{down*2}fire your phaser at the attacking waves.":PRINT"{down*4}":PRINT"{cyan}{space*15}z = l e f t{space*13}
105 PRINT"{space*41}":PRINT"{blue}{space*14}x = r i g h t{space*12}":PRINT"{space*41}":PRINT"{purple}{space*15}m = f i r e{space*13}":FORB=1TO2000:NEXTB:PRINT"{clear}":PRINT"{clear}":FORD=0TO39:POKE1144+D,160
170 POKE55416+D,4:POKE1184+D,160:POKE55456+D,4:NEXTD:RL=0:SC=0:LIVES=3:POKE1044,81:POKE55314,6:FORE=0TO39:POKE1984+E,88:POKE56256+E,7:XF=1:NEXTE
1010 GOSUB10000
1020 FI=INT(RND(1)*4):IFFI=0THEN1020
1030 IFFI=1THENGOSUB2000
1035 IFFI=2THENGOSUB3000
1040 IFFI=3THENGOSUB10000
1050 GOTO1010
2000 DYL=INT(RND(1)*2):IFDYL<>1THENRETURN
2005 XF=XF-40:IFPEEK(1064)=88THEN20000
2010 FORTY=0TO39:POKE1984+XF+TY,88:POKE56256+XF+TY,7:NEXTTY:RETURN
3000 V=54296:W=54276:P=54277:H=54273:L=54272:FORX=15TO0STEP-1:POKEV,X:POKEW,129:POKEP,15:POKEH,40:POKEL,200:NEXT:POKEW,0:POKEP,0:AF=0:FY=INT(RND(1)*40)
3015 POKE1984+AF+FY,32:AF=AF-40:IFAF=-960THEN3200
3040 POKE1984+AF+FY,66:POKE56256+AF+FY,3:IFPEEK(1064+FY)=66ANDPEEK(1024+FY)=81THENPOKE1064+FY,32:GOTO20000
3060 GOTO3015
3200 POKE1984+AF+FY,32:AF=0:FY=0:RETURN
10000 GETMO$:IFMO$="z"THEN11000
10030 IFMO$="x"THEN12000
10040 IFMO$="m"THEN15000
10050 RETURN
11000 POKE1044+RL,32:RL=RL-1:POKE1044+RL,81:POKE55314+RL,6:IFPEEK(1024)=81THEN11200
11110 RETURN
11200 POKE1044+RL,32:RL=RL+2:POKE1044+RL,81:POKE55314+RL,6:RETURN
12000 POKE1044+RL,32:RL=RL+1:POKE1044+RL,81:POKE55314+RL,6:IFPEEK(1063)=81THENGOTO12200
12060 RETURN
12200 POKE1044+RL,32:RL=RL-2:POKE1044+RL,81:POKE55314+RL,6:RETURN
15000 V=54296:W=54276:P=54277:H=54273:L=54272:FORX=15TO0STEP-1:POKEV,X:POKEW,129:POKEP,15:POKEH,40:POKEL,200:NEXT:POKEW,0:POKEP,0:YF=0
15020 POKE1084+RL+YF,32:POKE1124+RL+YF,32:YF=YF+40:IFYF=920THEN15200
15050 POKE1084+RL+YF,66:POKE55356+RL+YF,5:IFPEEK(1124+RL+YF)=88THENPOKE1124+RL+YF,32:GOTO17000
15070 GOTO15020
15200 POKE1084+RL+YF,32:YF=0:RETURN
17000 POKE2004+RL,32:SC=SC+30:POKE1084+RL+YF,32:YF=0:RETURN
20000 PRINT"{down*8}{blue}{space*12}g a m e{space*2}o v e r{space*11}":PRINT"{purple}{space*15}s c o r e = "SC"points":FORDU=0TO2000:NEXTDU:GOTO10
