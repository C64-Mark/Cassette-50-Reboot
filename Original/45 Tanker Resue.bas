!--------------------------------------------------
!- 28 October 2019 21:21:24
!- Import of : TANK.PRG
!- From Disk : c:\users\marka\games\c64\cbmprg\cassette50reboot\tankerrescue.d64
!- Commodore 64
!--------------------------------------------------
0 V=53248:SR=0:SC=3
1 GOSUB3000
6 POKEV+23,26:POKEV+29,58:GOSUB1500:GOSUB1000
10 GOSUB1030:GOSUB2000:GOSUB 4100
20 P=PEEK(56320):P=15-(PAND15):FR=PAND16:IFP=1THENY=Y-5:S=1
21 IFY>175THENFORI=YTO200:POKEV+1,I:NEXT:GOSUB2510
22 IFY<60THEN FORI=Y TO 200:POKEV+1,I:NEXT:GOSUB2500
23 Z1=PEEK(V+30):T=T+1:E=E+1
30 IF P=2 THEN Y=Y+5:S=3
35 POKE 2040,191+1+S
36 IF P=8THEN X=X+5:S=3
37 B=B+INT(RND(1)*20)-3:IF B>240THENB=20
38 POKEV+4,220:POKEV+5,148
39 POKEV+6,B:POKEV+7,71:POKEV+41,8:
42 IFX<30THENX=30
43 N=N+5:POKEV+8,N:POKEV+9,120
44 IFN>240THENN=10
45 POKE54276,129:POKE54272,12:POKE54273,200:POKE54276,0
46 IF P=4 THEN X=X-4:S=1
47 W=PEEK(V+30):IFW=3THENSC=SC-1:GOSUB4000
48 IFW=5THENPOKEV+21,59:POKEV+39,15:SR=SR+1
49 IFW=9THENSC=SC-1:GOSUB4000
50 IFW=17THENSC=SC-1:GOSUB4000
51 IFW=33THENPOKEV+39,6:POKEV+21,63:
52 IFX>250THENX=250
53 IFT>30THENR=140:D=D-1:POKEV+10,D+R:POKEV+11,170:
54 POKEV+41,7
55 POKE2040,191+S:POKE2041,13:POKE2042,14:POKE2043,15:POKE2044,15:POKE2045,198
56 IFD+R=40THENR=140:D=0
57 IFE>700THEN4000
60 POKE V,X:POKEV+1,Y:GOTO20
1000 FORN=0TO62:READA:POKE12288+N,A:NEXT
1005 FOR N=0TO62:READA:POKE12352+N,A:NEXT
1010 FORN=0TO62:READA:POKE12416+N,A:NEXT
1020 FORN=0TO62:READA:POKE12480+N,A:NEXT
1021 FORN=0TO62:READM:POKE832+N,M:NEXT
1022 FORN=0TO62:READP:POKE896+N,P:NEXT
1023 FORN=0TO62:READZ:POKE960+N,Z:NEXT
1024 FORN=0TO62:READS:POKE12672+N,S:NEXT
1025 RETURN
1030 V=53248:X=190:Y=100:POKEV+21,63:POKEV+39,6:POKEV+40,0:S=1:B=60:T=0:N=0:D=0
1031 POKEV+41,7:POKEV+42,9:POKEV+43,8:POKEV+44,15:RETURN
1050 DATA 0,0,0,0,0,0,255,192,0
1060 DATA 0,32,1,7,224,3,15,255,255,19,255,254,51,255,128,47,255,0,31,254,0
1070 DATA 7,225,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1080 DATA 0,0,0,0,0,0,0,31,248
1090 DATA 0,32,1,7,224,3,15,255,255,19,255,254,51,255,128,47,255,0,31,254,0
1100 DATA 7,225,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1110 REM******************************
1120 DATA 0,0,0,0,0,0,0,7,255
1130 DATA 128,8,0,128,63,0,255,255,240,127,255,200,7,255,204,3,255,246
1140 DATA 7,255,252,4,15,224
1150 DATA 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1160 DATA 0,0,0,0,0,0,15,248,0
1170 DATA 128,8,0,128,63,0,255,255,240,127,255,200,7,255,204,3,255,246
1180 DATA 7,255,252,4,15,224
1190 DATA 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1200 DATA65,196,0,65,196,0,65,196,0,65,228,0,77,252,0,109,245,254,239,252,132
1201 DATA255,255,135,255,255,255,92,124,58,92,124,58,92,124,58,92,124,58,92,124
1202 DATA58,92,124,58,92,124,58,92,124,58,92,124,58,92,124,58,92,124,58,254,0
1203 DATA127,0,196,0
1204 DATA 2,196,0,2,24,0,1,224,0,0,224,0,0,224,0,0,160,0,0,160,0,1,176,0,0,0,0
1205 DATA0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1206 DATA 0,3,0,6,39,128,15,119,224,15,183,224,55,255,240,127,255,208,127,191
1207 DATA224,63,127,252,15,127,190,63,191,222,127,239,220,255,239,184,247,247
1208 DATA240,247,255,232,123,127,188,28,255,184,15,255,112,31,252,240,31,239,248
1209 DATA7,221,0,0,
1210 DATA0,0,0,0,0,0,0,0,0,0,0,4,0,0,4,0,0,24,0,0,28,0,3,253,64,6,191,192,7,252
1211 DATA124,255,63,255,125,191,255,61,127,254,29,63,254,15,255,252,7,255,248
1212 DATA0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1500 POKE53280,14:POKE53281,14
1510 PRINT"{clear}{reverse on}{black}{space*8}t a n k e r{space*2}r e s c u e{space*8}";
1520 PRINT"{home}{down*16}":FORI=1TO280:PRINT"{reverse on}{blue} {reverse off}";:NEXT
1530 RETURN
2000 POKE54296,15:POKE54277,1:POKE54278,240:RETURN
2500 SC=SC-1:K=Y:L=X:FORD=LTO200:POKEV,L:POKEV+1,D:NEXT
2501 IF SC<1THEN 4003
2510 RESTORE:GOTO10
2511 K=Y:L=X:FORVB=0TO90:POKEV,L:POKEV+1,K+VB:NEXT
2512 IF SC<1THEN 4003
2612 RESTORE:GOTO10
3000 PRINT"{clear}":POKE53281,0:POKE53280,0:POKE53248+21,0
3002 PRINT"{up*2}{yellow}{reverse on}{space*13}tanker rescue{space*14}"
3003 PRINT"{down}{white}{space*2}your misson is to rescue workers on{space*3}"
3004 PRINT"{red}{space*11}the burning oil rig{space*10}"
3005 PRINT"{down}{white}{space*2}and transport them to the safety of{space*3}"
3006 PRINT"{yellow}{space*12}the tanker nearby{space*11}"
3007 PRINT"{down}{purple}{space*6}but avoid the huge clouds of{space*6}"
3008 PRINT"{red}{space*12}poisionous gas{space*14}"
3009 PRINT"{yellow}{space*3}you may make contact with them but{space*3}"
3010 PRINT"{red}{space*12}not for too long{space*12}"
3011 PRINT"{white}{space*10}press {red}{reverse on}fire{reverse off}{white} to start{space*7}"
3012 PRINT"{down}{white}{space*10}use joystick port 2{space*9}"
3013 JV=PEEK(56320):IFJV=111THENPRINT"{clear}":RETURN
3014 GOTO3013
4000 POKEV+39,6:F=Y:W=X:FORG=FTO200:POKEV,X:POKEV+1,G:NEXT
4001 IFSC<1THENGOTO4003
4002 FORP=1TO2000:NEXT:RESTORE:GOTO10
4003 FORI=Y TO 200:POKEV+1,I:NEXT:POKEV+21,3
4004 PRINT"{home}{down*6}{space*9}{black}you have rescued:";SR
4005 FORY=1TO1200:NEXT
4006 RUN
4100 POKEV+2,190:POKEV+3,147:POKEV+4,220:POKEV+5,148:POKEV+41,6
4110 POKEV+10,140:POKEV+11,170
4111 RETURN
